# Deployment Guide

## Overview
This guide covers deploying the AI Resume Customization application to Render.com and other platforms.

## Prerequisites
- GitHub repository with the application code
- Render.com account
- OpenAI API key (optional, users can provide their own)
- Environment variables configured

## Render.com Deployment

### 1. Repository Setup
1. Push your code to a GitHub repository
2. Ensure all files are committed including:
   - `render.yaml` (deployment configuration)
   - `requirements.txt` (Python dependencies)
   - `Dockerfile` (containerization)

### 2. Render Service Creation
1. Log into Render.com dashboard
2. Click "New" â†’ "Blueprint"
3. Connect your GitHub repository
4. Render will automatically detect `render.yaml` and create services

### 3. Environment Variables
Set these environment variables in Render dashboard:
- `SECRET_KEY`: Generate a secure secret key
- `OPENAI_API_KEY`: Your OpenAI API key (optional)
- `DATABASE_URL`: Auto-generated by Render for PostgreSQL
- `GOOGLE_CLIENT_ID`: For Google OAuth (optional)
- `GOOGLE_CLIENT_SECRET`: For Google OAuth (optional)

### 4. Database Setup
1. Render will create PostgreSQL database automatically
2. Database migrations run automatically on deployment
3. Tables are created using SQLAlchemy models

## Alternative Deployment Options

### Streamlit Cloud (Frontend Only)
1. Create separate repository for frontend code
2. Deploy to Streamlit Cloud for rapid prototyping
3. Point to your Render backend API

### Heroku Deployment
1. Create `Procfile`:
   ```
   web: uvicorn app.main:app --host=0.0.0.0 --port=${PORT:-5000}
   ```
2. Set environment variables
3. Deploy using Git or GitHub integration

### Docker Deployment
1. Build images:
   ```bash
   docker build -t resume-backend .
   docker build -f frontend/Dockerfile -t resume-frontend frontend/
   ```
2. Run containers:
   ```bash
   docker run -p 8000:8000 resume-backend
   docker run -p 8501:8501 resume-frontend
   ```

## Production Configuration

### Security Checklist
- [ ] Use strong SECRET_KEY
- [ ] Enable HTTPS/SSL
- [ ] Configure CORS properly
- [ ] Set up rate limiting
- [ ] Enable request logging
- [ ] Secure file uploads
- [ ] Validate all inputs

### Performance Optimization
- [ ] Enable database connection pooling
- [ ] Implement caching (Redis)
- [ ] Optimize file storage
- [ ] Set up CDN for static files
- [ ] Monitor application performance

### Monitoring Setup
- [ ] Set up application logs
- [ ] Configure error tracking (Sentry)
- [ ] Monitor database performance
- [ ] Set up uptime monitoring
- [ ] Configure alerting

## Troubleshooting

### Common Issues
1. **Build failures**: Check Python version and dependencies
2. **Database connection**: Verify DATABASE_URL format
3. **File upload issues**: Check file size limits and permissions
4. **API key errors**: Ensure OpenAI API key format is correct

### Debugging Steps
1. Check application logs in Render dashboard
2. Test API endpoints using `/docs` interface
3. Verify environment variables are set correctly
4. Check database connectivity and migrations

## Scaling Considerations
- Use horizontal scaling for web services
- Implement database read replicas for high traffic
- Consider file storage on cloud providers (AWS S3)
- Set up load balancing for multiple instances

## Backup Strategy
- Database: Automated backups via Render
- Files: Regular backup to cloud storage
- Code: Version control with Git tags
- Configuration: Document all environment variables
